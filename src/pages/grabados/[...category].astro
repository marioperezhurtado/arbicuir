---
import engravingData from '../../content/engravings.json';
import Layout from '../../layouts/Layout.astro'
import Category from './_components/Category.astro';
import Engraving from './_components/Engraving.svelte';

export async function getStaticPaths() {
  return [
    { params: { category: undefined } },
    { params: { category: "serpientes" } },
    { params: { category: "cocos" } }, { params: { category: "naturales" } },
    { params: { category: "varios" } },
  ]
}

const { category = "serpientes" } = Astro.params;

const engravings = engravingData.filter(({ title }) => title === category);
---

<Layout
  title="Grabados • Arbicuir S.L."
  description="Descubre nuestra amplia gama de grabados, con más de 120 diseños únicos para adaptarnos a tus necesidades."
>
  <main class="px-6 mx-auto max-w-screen-lg sm:px-8">
    <h1 class="mt-2 text-3xl sm:text-4xl text-ac-light font-display">
      Grabados
    </h1>
    <p class="mt-3 max-w-prose text-ac-light-2">
      Descubre nuestra amplia gama de grabados, con más de
      <strong class="text-ac-light">
        120 diseños
      </strong>
      únicos para adaptarnos a tus necesidades.
    </p>

    <ul class="flex gap-2 mt-10 text-sm sm:gap-4 text-ac-light">
      <Category
        title="Serpientes"
        href="/grabados/serpientes"
        selected={category === "serpientes"}
      />
      <Category
        title="Cocos"
        href="/grabados/cocos"
        selected={category === "cocos"}
      />
      <Category
        title="Naturales"
        href="/grabados/naturales"
        selected={category === "naturales"}
      />
      <Category
        title="Varios"
        href="/grabados/varios"
        selected={category === "varios"}
      />
    </ul>

    <section class="grid grid-cols-2 gap-3 mt-14 w-full text-center sm:grid-cols-3 sm:gap-4 md:grid-cols-4"
    >
      {engravings[0]!.engravings.map((engraving) => (
        <Engraving {engraving} client:idle/>
      ))}
    </section>
  </main>
</Layout>
